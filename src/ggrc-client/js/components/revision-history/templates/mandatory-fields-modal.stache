{{!
  Copyright (C) 2019 Google Inc.
  Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<simple-modal {state}="{state}"
              {instance}="{instance}"
              {replace-content}="{true}"
              {extra-css-class}="'mandatory-fields'">
  <div class="simple-modal__header">
      <div class="simple-modal__header-text">Global custom attribute validation</div>
      <button type="button" 
              class="btn btn-small btn-icon"
              {{#if loading}}disabled{{/if}}
              ($click)="cancel()">
          <i class="fa fa-times black"></i>
      </button>
  </div>
  <div class="simple-modal__body">
    <div class="simple-modal__section">
      <p>
        Please fill in the field(s) below to apply this version -
        <person-data {person}="{revisionModifiedBy}"></person-data>,
        {{dateTime revisionUpdatedAt}}.
      </p>
    </div>
    <div class="simple-modal__section">
      {{#if showCAs}}
        <div class="ggrc-form">
          <gca-controls {instance}="{instance}"
                        {items}="{caFields}">
          </gca-controls>
        </div>
      {{/if}}
    </div>
  </div>
  <div class="simple-modal__footer">
    <div class="simple-modal__toolbar">
      <button class="btn btn-small btn-green simple-modal__toolbar-item {{#if isApplyButtonDisabled}}disabled{{/if}}"
              type="button" ($click)="save()" {{#if isApplyButtonDisabled}}disabled{{/if}}>
        Apply
      </button>
      <button class="btn btn-small btn-white simple-modal__toolbar-item"
              type="button" ($click)="cancel()">
        Cancel
      </button>
      <spinner {toggle}="{loading}"></spinner>
    </div>
  </div>

</simple-modal>
